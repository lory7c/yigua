{
  "knowledge_graph": {
    "path": "data/knowledge_graph.pkl",
    "auto_save": true,
    "save_interval": 300
  },
  
  "vector_store": {
    "type": "hybrid",
    "index_path": "data/vector_index",
    "embedding_model": "sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2",
    "embedding_batch_size": 32,
    "cache_embeddings": true,
    "max_cache_size": 10000
  },
  
  "retrieval": {
    "strategy": "hybrid",
    "top_k": 5,
    "rerank": true,
    "min_relevance_score": 0.3,
    "chunk_size": 512,
    "chunk_overlap": 128,
    "search_params": {
      "alpha": 0.7,
      "beta": 0.3
    }
  },
  
  "generation": {
    "use_llm": false,
    "model_name": "qwen-7b",
    "model_path": "/models/Qwen-7B-Chat",
    "load_in_8bit": true,
    "max_new_tokens": 512,
    "temperature": 0.7,
    "top_p": 0.9,
    "repetition_penalty": 1.1,
    "prompt_templates": {
      "qa": "templates/qa_prompt.txt",
      "divination": "templates/divination_prompt.txt",
      "concept": "templates/concept_prompt.txt"
    }
  },
  
  "preprocessing": {
    "clean_text": true,
    "remove_special_chars": false,
    "normalize_unicode": true,
    "min_text_length": 10,
    "max_text_length": 10000
  },
  
  "pdf_extraction": {
    "batch_size": 10,
    "max_workers": 4,
    "min_confidence": 0.5,
    "ocr_enabled": true,
    "ocr_language": "chi_sim+eng",
    "extraction_methods": ["pdfplumber", "pymupdf", "pypdf2", "ocr"]
  },
  
  "api": {
    "host": "0.0.0.0",
    "port": 8000,
    "cors_enabled": true,
    "rate_limit": 100,
    "timeout": 30,
    "max_upload_size": 104857600
  },
  
  "logging": {
    "level": "INFO",
    "format": "%(asctime)s - %(name)s - %(levelname)s - %(message)s",
    "file": "logs/rag_system.log",
    "rotate": true,
    "max_bytes": 10485760,
    "backup_count": 5
  },
  
  "cache": {
    "enabled": true,
    "type": "memory",
    "ttl": 3600,
    "max_size": 1000
  },
  
  "models": {
    "available": {
      "qwen-7b": {
        "path": "/models/Qwen-7B-Chat",
        "load_in_8bit": true,
        "use_flash_attention": true
      },
      "chatglm3-6b": {
        "path": "/models/chatglm3-6b",
        "load_in_8bit": true
      },
      "baichuan2-7b": {
        "path": "/models/Baichuan2-7B-Chat",
        "load_in_4bit": true
      },
      "yi-6b": {
        "path": "/models/Yi-6B-Chat",
        "load_in_8bit": true
      }
    },
    "default": "qwen-7b"
  }
}