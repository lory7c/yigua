# 易卦算甲 - 更新说明

## 🎉 本次更新内容

### 1. 全新UI设计
- **新主页**：采用九宫格布局，更直观的功能展示
- **动画效果**：添加太极图旋转动画，增强视觉体验
- **配色升级**：使用故宫红（#C46243）和金黄色搭配，更具中国传统风格
- **交互优化**：添加点击反馈和过渡动画

### 2. 六爻排盘系统（新功能！）
- **铜钱起卦**：模拟真实的铜钱投掷过程
  - 动画效果：摇动和投掷动画
  - 六次投掷，自动记录结果
- **自动装卦**：
  - 配地支、六亲、六神
  - 安世应
  - 显示卦象和装卦详情
- **时间起卦**：根据当前时间自动起卦（开发中）
- **数字起卦**：输入数字起卦（开发中）

### 3. 代码架构优化
- 添加了专门的数据模型（liuyao_model.dart）
- 实现了六爻服务类（liuyao_service.dart）
- 模块化设计，便于后续扩展

## 📱 如何体验新功能

1. **运行新版本**：
   ```cmd
   双击运行：run_new_version.bat
   ```

2. **体验六爻占卜**：
   - 在主页点击"六爻占卜"
   - 输入想要占卜的问题
   - 选择"铜钱起卦"
   - 点击"开始占卜"
   - 观看动画并查看结果

## 🔮 即将推出的功能

根据优化方案，我们将陆续推出：

1. **梅花易数**：更灵活的起卦方式
2. **八字排盘**：生辰八字分析
3. **紫微斗数**：星曜排布，运势详批
4. **术数学堂**：学习传统命理知识
5. **典籍阅读**：在线阅读经典古籍

## 🐛 已知问题

1. 六爻的变卦功能尚未完成
2. 解卦分析还需要更详细的算法
3. 部分动画在低性能设备上可能卡顿

## 💡 反馈建议

如果您有任何建议或发现问题，欢迎反馈！

---

## 技术细节

### 新增文件：
- `lib/screens/home_screen_v2.dart` - 新版主页
- `lib/screens/liuyao_screen.dart` - 六爻占卜界面
- `lib/models/liuyao_model.dart` - 六爻数据模型
- `lib/services/liuyao_service.dart` - 六爻业务逻辑

### 修改文件：
- `lib/main.dart` - 添加路由配置
- `pubspec.yaml` - 添加本地化支持
- `lib/screens/calendar_screen.dart` - 修复日期格式问题

### 数据资源：
- `data/` 目录包含大量命理文献（200+ PDF文件）
- 这些资源将在后续版本中整合到应用中